"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{5008:function(d,b,a){a.d(b,{"$d":function(){return l}});var e=a(5893),f=a(7294),g=a(7079),h=a(4046),i=a(8831),j=a(7020),k=a(9141),l=function(a,e){if(!a)return null;var d=a.fields.lien,b=a.fields.prdt&&(0,h.ZY)(a.fields.prdt);switch(d.__typename){case"lien":return{children:a.fields.label||d.fields.label,isLinkTag:!0,href:(0,g.mH)(d.fields.lienExterne,e),icon:b&&b.icon};case"pageGfr":return{children:a.fields.label||d.fields.label,isLinkTag:!0,as:c,lien:d,icon:b&&b.icon};case"modale":return{children:a.fields.label,icon:b&&b.icon}}},c=function(c){var b,h,l,m,n,a=c.lien,o=c.children,p=c.className,r=c.onClick,d=void 0===r?null:r,q=(0,f.useContext)(i.Z),t=q.regionCookie,u=q.query,v=q.tokens,s=function(a){return a&&(a.startsWith("/")||a.startsWith("http://www.groupama.fr/")||a.startsWith("https://www.groupama.fr/"))};return null==a?(0,e.jsx)("a",{role:"navigation",className:p,onClick:d,onKeyDown:d,children:o}):(null==a?void 0:null===(h=a.fields)|| void 0===h?void 0:null===(l=h.lienExterne)|| void 0===l?void 0:l.startsWith("#"))?(0,e.jsx)("a",{href:null==a?void 0:null===(n=a.fields)|| void 0===n?void 0:n.lienExterne,className:p,children:o}):(0,e.jsx)("a",{tabIndex:0,href:function(a){if("lien"===a.__typename&&a.fields.lienExterne){var b;return s(a.fields.lienExterne)?(b=a.fields.lienExterne,-1!==k.s.findIndex(function(a){return b.startsWith(a)||b.startsWith("https://www.groupama.fr"+a)}))?(0,j.Rh)((0,g.mH)(a.fields.lienExterne,t,!1),u):(0,g.mH)(a.fields.lienExterne,t,!(null==v?void 0:v.ville)):a.fields.lienExterne}return("pageGfr"===a.__typename||"marche"===a.__typename)&&a.fields.slug?(0,g.C1)(a.fields.slug,t):a&&"string"==typeof a?!s(a)||(null==v?void 0:v.ville)?a:(0,g.mH)(a,t):a}(a),className:p,target:null===(m=a.fields)|| void 0===m?void 0:m.target,rel:(b=a).fields?b.fields.slug?"follow":b.fields.follow?"follow":"nofollow":"string"==typeof b&&s(b)?"follow":"nofollow",onClick:d,onKeyDown:d,children:o})};b.ZP=c},1198:function(c,b,a){a.r(b);var d=a(5893),e=a(7294),f=a(3864),g=a(9905),h=a(8831),i=a(994),j=a(4046),k=a(2184),l=a(7020),m=a(7079);function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}b.default=function(o){var p=o.data,z=o.emplacement,b=(o.marche,(0,e.useContext)(h.Z)),A=b.setOpen,B=b.setSize,C=b.setModalID,D=b.market,E=b.setRegionCookie,q=b.codePostalCookie,F=b.setCodePostalCookie,G=b.setFasterizeCookie,H=b.query,r=(0,e.useState)(""),v=r[0],I=r[1],s=(0,e.useState)(void 0),w=s[0],J=s[1],a=p.fields,t=(0,e.useState)(null),x=t[0],K=t[1],u=(0,e.useState)("_self"),y=u[0],L=u[1],M=null;(0,e.useEffect)(function(){(0,l.HX)(null,z,a.produit,"Affichage Modale"),(0,l.Ju)("modaledevisaffichage")},[]);var c,N=function(c){var b=(0,i.n5)(c);"GSU"===b?(K("https://groupama-med.elioz.fr/?hash=e15e0fbad0f2392ae68817c309b73fa5"),L("_blank")):a.tagsAccessibilite.includes(b)?(K((0,j.KG)(a.urlCta.replace("XXX",(0,j.J2)(b).toLowerCase()),a.produit,D,a.debranchementAlternatif,H)),L("_blank")):K(a.slug.startsWith("http")?(0,m.mH)(a.slug,"NAT"):(0,m.C1)(a.slug,"NAT"))},O=function(){A(!1),B(""),C(""),(0,l.HX)(null,z,a.produit,"Fermeture Modale"),(0,l.Ju)("modaledevisfermeture")},P=function(b,c){var d=(0,j.nY)(b.target.value);return b.target.value.length>=5&&!d?(I("Merci de v\xe9rifier votre code postal"),J(!1),!1):(5===b.target.value.length&&("accessibilite"===a.produit?N(b.target.value):(K(c+b.target.value),b.target.form.action=c+b.target.value),J(!0),(0,l.HX)(null,z,a.produit,"Affichage CTA"),(0,l.Ju)("modaledevisaffichagecta")),b.target.value.length<5&&(b.preventDefault(),I(""),J(void 0)),I(""),!0)},Q=function(c){var b=M.value;(0,j.nY)(b)?("accessibilite"===a.produit?N(b):(K((0,j.KG)(a.urlCta+b,a.produit,D,a.debranchementAlternatif,H)),c.target.action=(0,j.KG)(a.urlCta+b,a.produit,D,a.debranchementAlternatif,H)),J(!0),F(b),E((0,i.n5)(b)),G((0,i.n5)(b)),(0,l.HX)(null,z,a.produit,"Clic CTA"),(0,l.Ju)("modaledeviscta"),setTimeout(function(){return O()})):((0,l.HX)(null,z,a.produit,"Erreur CP"),(0,l.Ju)("modaledeviserreur"),c.preventDefault())};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.l0,{id:p.id,as:"form",method:"POST",action:x,onSubmit:function(a){return Q(a)},title:a.titre,titleColor:"products.".concat((0,j.ZY)(a.produit)&&(0,j.ZY)(a.produit).market,".0"),content:a.sousTitre,target:y,input:{error:v,autoFocus:!0,isValid:w,maxLength:5,placeholder:a.placeholder,name:"cp"+(a&&a.produit&&(0,k.kC)(a.produit)),defaultValue:null!=q?q:"",onKeyUp:function(b){return 13===b.keyCode?Q(b):P(b,(0,j.KG)(a.urlCta,a.produit,D,a.debranchementAlternatif,H))},onFocus:function(){(0,l.HX)(null,z,a.produit,"Champ CP"),(0,l.Ju)("modaledevischampcp")},ref:function(a){M=a}},button:{as:"button",children:a.libelleCta},coupon:a.accelerateur&&function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){n(d,a,c[a])})}return d}({},(c=a.accelerateur)&&{title:c.fields.titre,content:c.fields.textePourModale,amount:c.fields.valeur}),"data-cy":"modal-form-".concat(a.produit)}),(0,d.jsx)(g.fb,{position:"absolute",top:"xxs",right:"xxs",onClick:function(){return O()}})]})}}}])